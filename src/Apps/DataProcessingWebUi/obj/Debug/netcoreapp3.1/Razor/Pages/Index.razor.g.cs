#pragma checksum "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "8ae84383982c6c84749f7eac09550554220e7b8b"
// <auto-generated/>
#pragma warning disable 1591
namespace DataProcessingWebUi.Pages
{
    #line hidden
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using DataProcessingWebUi;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using DataProcessingWebUi.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using Utils = CoreUtils.Classes.Utils;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using Newtonsoft.Json.Converters;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using System.Dynamic;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using System.Globalization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using System.Net.Http.Headers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using System.Threading;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using CoreUtils.Classes;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
using Microsoft.VisualBasic.CompilerServices;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Index : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h1>File And Data Processing App</h1>\r\n\r\n");
            __builder.AddMarkupContent(1, "<p class=\"lead\">This App automates File and Data Processing for Alegeus and COBRA Source Files.</p>\r\n");
            __builder.AddMarkupContent(2, "<p class=\"lead\">It also fetches Result &amp; Error Files from Alegeus and allows easy tracking </p>\r\n\r\n");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", true);
            __builder.AddMarkupContent(5, "\r\n    ");
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", true);
            __builder.AddMarkupContent(8, "\r\n        ");
            __builder.OpenElement(9, "p");
            __builder.AddMarkupContent(10, "\r\n            &nbsp;");
            __builder.OpenElement(11, "button");
            __builder.AddAttribute(12, "id", "cmdCopyTestFiles");
            __builder.AddAttribute(13, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 26 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                          cmdCopyTestFiles

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(14, "CopyTestFiles");
            __builder.CloseElement();
            __builder.AddMarkupContent(15, "\r\n            &nbsp;&nbsp;&nbsp;&nbsp; Copy test files BEFORE starting a new process\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(16, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(17, "\r\n    ");
            __builder.AddMarkupContent(18, "<div class>\r\n        <p>\r\n\r\n        </p>\r\n    </div>\r\n    ");
            __builder.OpenElement(19, "div");
            __builder.AddAttribute(20, "class", true);
            __builder.AddMarkupContent(21, "\r\n        ");
            __builder.OpenElement(22, "p");
            __builder.AddMarkupContent(23, "\r\n            &nbsp;\r\n            ");
            __builder.OpenElement(24, "button");
            __builder.AddAttribute(25, "id", "cmdProcessCobraFiles");
            __builder.AddAttribute(26, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 38 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                        cmdProcessCobraFiles

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(27, "ProcessCobraFiles");
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n            &nbsp;&nbsp;&nbsp;&nbsp; Process COBRA Source Files\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(29, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(30, "\r\n    ");
            __builder.OpenElement(31, "div");
            __builder.AddAttribute(32, "class", true);
            __builder.AddMarkupContent(33, "\r\n        ");
            __builder.OpenElement(34, "p");
            __builder.AddMarkupContent(35, "\r\n\r\n            &nbsp;\r\n            ");
            __builder.OpenElement(36, "button");
            __builder.AddAttribute(37, "id", "cmdProcessAlegeusFiles");
            __builder.AddAttribute(38, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 46 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                          cmdProcessAlegeusFiles

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(39, "ProcessAlegeusFiles");
            __builder.CloseElement();
            __builder.AddMarkupContent(40, "\r\n            &nbsp;&nbsp;&nbsp;&nbsp; Process Alegeus Source Files\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(41, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(42, "\r\n    ");
            __builder.OpenElement(43, "div");
            __builder.AddAttribute(44, "class", true);
            __builder.AddMarkupContent(45, "\r\n        ");
            __builder.OpenElement(46, "p");
            __builder.AddMarkupContent(47, "\r\n\r\n            &nbsp;\r\n            ");
            __builder.OpenElement(48, "button");
            __builder.AddAttribute(49, "id", "cmdRetrieveFtpErrorLogs");
            __builder.AddAttribute(50, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 54 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                           cmdRetrieveFtpErrorLogs

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(51, "RetrieveFtpErrorLogs");
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\r\n            &nbsp;&nbsp;&nbsp;&nbsp;Get Alegeus Upload Results\r\n\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(53, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(54, "\r\n    ");
            __builder.OpenElement(55, "div");
            __builder.AddAttribute(56, "class", true);
            __builder.AddMarkupContent(57, "\r\n        ");
            __builder.OpenElement(58, "p");
            __builder.AddMarkupContent(59, "\r\n\r\n            &nbsp;\r\n            ");
            __builder.OpenElement(60, "button");
            __builder.AddAttribute(61, "id", "cmdOpenAccessDB");
            __builder.AddAttribute(62, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 63 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                   cmdOpenAccessDB

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(63, "Open Access UI");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n            &nbsp;&nbsp;&nbsp;&nbsp; Open MS Access User Interface\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(66, "\r\n    ");
            __builder.OpenElement(67, "div");
            __builder.AddAttribute(68, "class", true);
            __builder.AddMarkupContent(69, "\r\n        ");
            __builder.OpenElement(70, "p");
            __builder.AddMarkupContent(71, "\r\n\r\n            &nbsp;\r\n            ");
            __builder.OpenElement(72, "button");
            __builder.AddAttribute(73, "id", "cmdShowJobs");
            __builder.AddAttribute(74, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 71 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                               cmdShowJobStatus

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(75, "Show Job Status");
            __builder.CloseElement();
            __builder.AddMarkupContent(76, "\r\n            &nbsp;&nbsp;&nbsp;&nbsp; Show Job Status\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(77, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(78, "\r\n    ");
            __builder.AddMarkupContent(79, "<p>\r\n        Logs\r\n    </p>\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(80, "\r\n");
            __builder.OpenElement(81, "div");
            __builder.AddAttribute(82, "class", true);
            __builder.AddMarkupContent(83, "\r\n    ");
            __builder.OpenElement(84, "p");
            __builder.AddMarkupContent(85, "\r\n\r\n        &nbsp;\r\n        ");
            __builder.OpenElement(86, "button");
            __builder.AddAttribute(87, "id", "cmdClear");
            __builder.AddAttribute(88, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 83 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                        Clear

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(89, "Clear Logs");
            __builder.CloseElement();
            __builder.AddMarkupContent(90, "\r\n        &nbsp;&nbsp;&nbsp;&nbsp; Show Job Status\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\r\n    ");
            __builder.OpenComponent<Radzen.Blazor.RadzenDataGrid<LogFields>>(92);
            __builder.AddAttribute(93, "Data", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.IEnumerable<LogFields>>(
#nullable restore
#line 86 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                       Logs

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(94, "AllowColumnResize", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 86 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                                                  true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(95, "Style", "height:200px;max-height:400px");
            __builder.AddAttribute(96, "Columns", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(97, "\r\n            ");
                __builder2.OpenComponent<Radzen.Blazor.RadzenDataGridColumn<LogFields>>(98);
                __builder2.AddAttribute(99, "Property", "LogTime");
                __builder2.AddAttribute(100, "Title", "LogTime");
                __builder2.AddAttribute(101, "Width", "150px");
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(102, "\r\n            ");
                __builder2.OpenComponent<Radzen.Blazor.RadzenDataGridColumn<LogFields>>(103);
                __builder2.AddAttribute(104, "Property", "Task");
                __builder2.AddAttribute(105, "Title", "Task");
                __builder2.AddAttribute(106, "Width", "150px");
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(107, "\r\n            ");
                __builder2.OpenComponent<Radzen.Blazor.RadzenDataGridColumn<LogFields>>(108);
                __builder2.AddAttribute(109, "Property", "Status");
                __builder2.AddAttribute(110, "Title", "Status");
                __builder2.AddAttribute(111, "Width", "150px");
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(112, "\r\n        ");
            }
            ));
            __builder.AddComponentReferenceCapture(113, (__value) => {
#nullable restore
#line 86 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                          Grid = (Radzen.Blazor.RadzenDataGrid<LogFields>)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
            __builder.AddMarkupContent(114, "\r\n\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(115, "\r\n");
            __builder.AddMarkupContent(116, "<div class>\r\n    <p>\r\n\r\n\r\n    </p>\r\n</div>\r\n");
            __builder.AddMarkupContent(117, "<div class>\r\n    <p>\r\n\r\n\r\n    </p>\r\n</div>\r\n");
            __builder.OpenElement(118, "div");
            __builder.AddAttribute(119, "class", true);
            __builder.AddMarkupContent(120, "\r\n    ");
            __builder.OpenElement(121, "p");
            __builder.AddMarkupContent(122, "\r\n        ");
            __builder.OpenElement(123, "textarea");
            __builder.AddAttribute(124, "Id", "ResultTextArea");
            __builder.AddAttribute(125, "Name", "ResultTextArea");
            __builder.AddAttribute(126, "AutoSize", "true");
            __builder.AddAttribute(127, "style", "width: 100%; max-width: 100%; height: 400px;max-height: 600px");
            __builder.AddAttribute(128, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 109 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                         ResultTextAreaValue

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(129, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => ResultTextAreaValue = __value, ResultTextAreaValue));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(130, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(131, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(132, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(133, "\r\n");
            __builder.AddMarkupContent(134, "<div class>\r\n    <p>\r\n\r\n\r\n    </p>\r\n</div>");
        }
        #pragma warning restore 1998
#nullable restore
#line 127 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"

    private string _username = "dataprocessinguser";
    

#line default
#line hidden
#nullable disable
#nullable restore
#line 129 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                 
    private string _password = "#gjgB0AXG^940";
    

#line default
#line hidden
#nullable disable
#nullable restore
#line 131 "C:\___Clarity\clarity_dev\r1_Data_Processing\src\Apps\DataProcessingWebUi\Pages\Index.razor"
                                                 

    RadzenDataGrid<LogFields> Grid { get; set; }
    public string ResultTextAreaValue { get; set; } = String.Empty;

    private Boolean needsRefresh = false;

    private string strBaseUrl = "http://be015:81";


    private List<LogFields> Logs = new List<LogFields> { };

    private void addAuthHeader(HttpClient client)
    {
        string creds = $"{_username}:{_password}";
        AuthenticationHeaderValue authHeaderValue = new AuthenticationHeaderValue("basic", creds);
        client.DefaultRequestHeaders.Authorization = authHeaderValue;
    }

    private void LogJobResult(string jobId)
    {

        // get result of the job started by the request
        dynamic jobDetailsRequestResult = this.SendRequest("JobResults", $"{jobId}");
        //
        var jobDetailsContent = jobDetailsRequestResult.Content.ReadAsStringAsync().Result;
        //
        JobDetails jobDetails = JsonConvert.DeserializeObject<JobDetails>(jobDetailsContent);
        //
        string jobState = jobDetails != null ? jobDetails.JobState : "error";

        // check job state
        switch (jobState.ToLower())
        {
            case @"processing":
            case @"started":
            case @"enqueued":
                var logItem = new LogFields(
                    DateTime.Now.ToString(CultureInfo.InvariantCulture),
                    "",
                    jobDetails?.JobName,
                    jobState,
                    "",
                    ""
                    );

                this.Log(logItem);

                // schedule new check in N ms
                var timer = new System.Threading.Timer((_) =>
                {
                    InvokeAsync(async () =>
                    {
                        LogJobResult(jobId);
                    });
                }, null, 1000, 0);

                return;

            default:
                OperationResult jobDetailsOutcome = (OperationResult)Utils.DeserializeJson<OperationResult>(jobDetails?.JobResultDetails);

                if (jobDetailsOutcome.Code != "200")
                {
                    jobState = "ERROR";
                }

                var logItem2 = new LogFields(
                    DateTime.Now.ToString(CultureInfo.InvariantCulture),
                    "",
                    jobDetails?.JobName,
                    jobState,
                    "",
                    jobDetailsOutcome.ToString()
                    );

                this.Log(logItem2);
                //
                return;
        }


    }

    public object SendRequest(string path, string arg)
    {
        try
        {

            StateHasChanged();

            HttpClient client = new HttpClient { BaseAddress = new Uri($"{strBaseUrl}"), Timeout = TimeSpan.FromSeconds(600) };

            // add auth header
            this.addAuthHeader(client);

            //HTTP GET Async
            var result = client.GetAsync($"/DataProcessing/{path}/{arg}").Result;

            if (!result.IsSuccessStatusCode)
            {
                //log response status here..
                throw new Exception($"{result.ReasonPhrase} {result.RequestMessage}");
            }

            // parse job ID
            var content = result.Content.ReadAsStringAsync().Result;

            //
            if (path.ToLower() != "JobResults".ToLower())
            {
                JobDetails taskJobDetails = JsonConvert.DeserializeObject<JobDetails>(content);

                string jobId = (string)taskJobDetails?.JobId;
                //
                LogJobResult(jobId);

            }
            return result;
        }
        catch (Exception ex)
        {
            var logItem2 = new LogFields(
                DateTime.Now.ToString(CultureInfo.InvariantCulture),
                "",
                arg,
                "ERROR",
                "",
                new OperationResult("0", "200", "ERROPR", "", ex.ToString()).ToString()
                );

            this.Log(logItem2);
            return null;
        }
    }

    void cmdCopyTestFiles()
    {
        dynamic result = this.SendRequest("StartJob", "copytestfiles");
    }

    void cmdProcessCobraFiles()
    {
        dynamic result = this.SendRequest("StartJob", "processcobrafiles");
    }

    void cmdProcessAlegeusFiles()
    {
        dynamic result = this.SendRequest("StartJob", "processalegeusfiles");
    }

    void cmdRetrieveFtpErrorLogs()
    {
        dynamic result = this.SendRequest("StartJob", "retrieveftperrorlogs");
    }

    void cmdOpenAccessDB()
    {
        this.Clear();

    }

    void cmdShowJobStatus()
    {
        jsRuntime.InvokeAsync<object>("open", $"{strBaseUrl}/hangfire/jobs/processing", "_blank");
    }

    void Clear()
    {
        this.Logs.Clear();
        this.ResultTextAreaValue = "";
        this.Grid.Reload();
        //
        this.needsRefresh = true;
        //
        StateHasChanged();
        //
        this.needsRefresh = false;
    }

    void Log(LogFields logItem)
    {

        if (!Utils.IsBlank(logItem.OutcomeDetails))
        {
            OperationResult details = (OperationResult)Utils.DeserializeJson<OperationResult>(logItem.OutcomeDetails);
            if (!Utils.IsBlank(details.Error))
            {
                this.ResultTextAreaValue = details.Error + "\n\n\n\n------------------------------------\n\n\n\n" + details.Details;
            }
            else
            {
                this.ResultTextAreaValue = details.Details;
            }
        }

        //
        logItem.OutcomeDetails = logItem.Status;
        this.Logs.Add(logItem);
        this.Grid.Reload();

        this.needsRefresh = true;
        StateHasChanged();

    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime jsRuntime { get; set; }
    }
}
#pragma warning restore 1591
